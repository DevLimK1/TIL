## 이펙티브자바(3판)-조슈아 블로크 지음

### <목차>

[2장\_객체 생성과 파괴-191209](#2장_객체-생성과-파괴-191209)

---

#### 191209(월)

#### <인상깊은 구절 및 느낀점>

#### 2장\_객체 생성과 파괴-191209

1. 객체를 만들어야 할 때와 만들지 말아야 할 때를 구분하는 법
2. 올바른 객체 생성 방법과 불필요한 생성을 피하는 방법
3. 제때 파괴됨을 보장하고 파괴 전에 수행해야 할 정리 작업을 관리하는 요령

p.8~12

- 아이템1: 생성자 대신 정적 팩터리 메서드를 고려하라

  - 정적 팩터리 메서드가 생성자보다 좋은 **장점** 다섯가지
    1. 이름을 가질 수 있음
    2. 호출될 때마다 인스턴스를 새로 생성하지는 않아도 됨
    3. 반환 타입의 하위 타입 객체를 반환할 수 있는 능력이 있음
    4. 입력 매개변수에 따라 매번 다른 클래스의 객체를 반환할 수 있음
    5. 정적 팩터리 메서드를 작성하는 시점에는 반환할 객체의 클래스가 존재하지 않아도 됨
  - **단점**
    1. 상속을 하려면 public이나 protected 생성자가 필요하니 정적 팩터리 메서드만 제공하면 하위 클래스를 만들 수 없음
    2. 정적 팩터리 메서드는 프로그래머가 찾기 어려움(생성자처럼 API설명에 명확히 드러나지 않으니 사용자는 정적 팩터리 메서드 방식 클래스를 인스턴스화할 방법을 알아내야함)

p.14~p.22

- 아이템2: 생성자에 매개변수가 많다면 빌더를 고려하라

  - 첫번째 대안, 점층적 생성자 패턴
    - ```java
        NutritionFacts cocaCola= new NutritionFacts(240,8,100,0,35,27);
      ```
  - 위와 같이 매개변수 개수가 많아지면 클라이언트 코드를 작성하거나 읽기 어렵다.(값의 의미가 무엇인지 헷갈릴 것이고, 매개변수가 몇 개인지도 주의해서 세어 보아야 할 것이기 때문)

  - 두번째 대안, **자바빈즈 패턴(JavaBeans pattern)**
    - 매개변수가 없는 생성자로 객체를 만든 후, 세터(setter) 메서드들을 호출해 원하는 매개변수의 값을 설정하는 방식
  - 세번째 대안, **빌더 패턴(Builder patter)**

    - 점층적 생성자 패턴의 안전성+자바빈즈 패턴의 가독성 겸비
    - 클라이언트는 필요한 객체를 직접 만드는 대신, 필수 매개변수만으로 생성자(혹은 정적 팩터리)를 호출해 빌더 객체를 얻는다.
    - 계층적으로 설계된 클래스와 함께 쓰기에 좋음
    - 상당히 유연함 : 빌더 하나로 여러 객체를 순회하면서 만들 수 있고, 빌더에 넘기는 매개변수에 따라 다른 객체를 만들 수도 있음
    - 단점은, 점층적 생성자 패턴보다는 코드가 장황해서 **매개변수가 4개 이상**은 되어야 값어치를 함

> - 읽은페이지 수/달린 거리/누적 달린 거리<br>
>   - p.1~p.22(22page) / 22m / 45m

---

#### 200118(토) 읽은 page: p.23~39 / p.482
